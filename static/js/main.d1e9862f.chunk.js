(this["webpackJsonphelium-hotspot-config"]=this["webpackJsonphelium-hotspot-config"]||[]).push([[0],{53:function(e,a,t){e.exports=t(67)},58:function(e,a,t){},60:function(e,a,t){},67:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),i=t.n(c),o=t(45),l=(t(58),t(14)),u=t.n(l),s=t(26),m=(t(60),t(100)),d=t(90),f=t(98),g=t(31),v=t(91),p=t(92),b=t(93),h=t(94),y=t(95),w=t(96),k=t(99),E=t(97),x=t(42),S=t.n(x),_=t(43),G=t.n(_),C=t(87),O=Object(C.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),P=[{key:"manufacturer_name",name:"Manufacturer",uuid:"manufacturer_name_string"},{key:"firmware_revision",name:"Firmware Version",uuid:"firmware_revision_string"}],j=[{key:"wifi_ssid",name:"Wi-Fi SSID",uuid:"7731de63-bc6a-4100-8ab1-89b2356b038b"},{key:"mac_addr",name:"MAC Address",uuid:"9c4314f2-8a0c-45fd-a58d-d4a7e64c3a57"},{key:"public_key",name:"Public Key",uuid:"0a852c59-50d3-4492-bfd3-22fe58a24f01"},{key:"onboarding_key",name:"Onboarding Key",uuid:"d083b2bd-be16-4600-b397-61512ca2f5ad"}];function H(e){var a=e.setStatus,t=O(),c=Object(n.useState)(null),i=Object(s.a)(c,2),o=i[0],l=i[1],w=Object(n.useState)(null),k=Object(s.a)(w,2),E=k[0],x=k[1],_=new TextDecoder,C=function(e,a,t){var n,r,c,i,o,l,s,m;return u.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:n=!0,r=!1,c=void 0,d.prev=3,i=t[Symbol.iterator]();case 5:if(n=(o=i.next()).done){d.next=20;break}return l=o.value,console.log("Getting Char for: "+l.uuid),d.next=10,u.a.awrap(a.getCharacteristic(l.uuid));case 10:return s=d.sent,d.t0=_,d.next=14,u.a.awrap(s.readValue());case 14:d.t1=d.sent,m=d.t0.decode.call(d.t0,d.t1),e[l.key]=m;case 17:n=!0,d.next=5;break;case 20:d.next=26;break;case 22:d.prev=22,d.t2=d.catch(3),r=!0,c=d.t2;case 26:d.prev=26,d.prev=27,n||null==i.return||i.return();case 29:if(d.prev=29,!r){d.next=32;break}throw c;case 32:return d.finish(29);case 33:return d.finish(26);case 34:case"end":return d.stop()}}),null,null,[[3,22,26,34],[27,,29,33]])},H=function(){var e,t,n,r,c;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,e={},a("Selecting device..."),console.log("Connecting to device..."),i.next=6,u.a.awrap(navigator.bluetooth.requestDevice({filters:[{namePrefix:"Helium Hotspot ",optionalServices:["device_information","0fda92b2-44a2-4af2-84f5-fa682baa2b8d"]}]}));case 6:return t=i.sent,console.log(t),l(t),a("Connecting to GATT Server..."),console.log("Connecting to GATT Server..."),i.next=13,u.a.awrap(t.gatt.connect());case 13:return n=i.sent,a("Getting Device Information Service..."),console.log("Getting Device Information Service..."),i.next=18,u.a.awrap(n.getPrimaryService("device_information"));case 18:return r=i.sent,a("Reading DeviceInformationCharacteristics..."),i.next=22,u.a.awrap(C(e,r,P));case 22:return a("Getting Gateway Service..."),console.log("Getting Gateway Service..."),i.next=26,u.a.awrap(n.getPrimaryService("0fda92b2-44a2-4af2-84f5-fa682baa2b8d"));case 26:return c=i.sent,a("Reading GatewayInfoCharacteristics..."),i.next=30,u.a.awrap(C(e,c,j));case 30:console.log(e),x(e),a(null),i.next=40;break;case 35:i.prev=35,i.t0=i.catch(0),console.log(i.t0.message),alert(i.t0.message),B();case 40:case"end":return i.stop()}}),null,null,[[0,35]])},B=function(){try{o.gatt.disconnect()}catch(e){}l(null),x(null),window.location.reload()},D=function(e,a){if(null!=o&&null!=E)return a.map((function(a,t){return e[a.key].length,r.a.createElement(n.Fragment,{key:a.key+"_fragment"},r.a.createElement(m.a,{key:a.key},r.a.createElement(d.a,{primary:a.name,secondary:null==e?null:e[a.key]})),r.a.createElement(m.a,{key:a.key+"_divider",divider:!0}))}))};return r.a.createElement(f.a,null,r.a.createElement(p.a,{position:"static"},r.a.createElement(b.a,null,null!=o&&r.a.createElement(h.a,{className:t.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(S.a,null)),r.a.createElement(g.a,{variant:"h6",className:t.title},null==o?"Helium Hotspot Config":o.name),null!=o&&r.a.createElement(h.a,{color:"inherit","aria-label":"menu",onClick:B},r.a.createElement(G.a,null)))),r.a.createElement(y.a,{dense:!0},function(){if(null==o)return r.a.createElement(n.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(f.a,{className:"deviceSelectorPanel"},r.a.createElement(g.a,{variant:"h6"},"Bluetooth Pairing Required"),r.a.createElement(g.a,null,"Pair over Bluetooth to configure Hotspot settings.  Press the paring button on the Hotspot to continue."),r.a.createElement(v.a,{variant:"contained",color:"primary",onClick:H},"Scan for Hotspots"))))}(),D(E,P),D(E,j)))}var B=function(){var e=Object(n.useState)(null),a=Object(s.a)(e,2),t=a[0],c=a[1];return r.a.createElement(w.a,{maxWidth:"xs"},r.a.createElement(k.a,{open:!(null==t)},r.a.createElement(f.a,null,t),r.a.createElement(E.a,null)),r.a.createElement(H,{setStatus:c}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(o.a,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[53,1,2]]]);
//# sourceMappingURL=main.d1e9862f.chunk.js.map